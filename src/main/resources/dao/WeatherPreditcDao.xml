<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.demo.dao.WeatherPreditcDao">

	<!-- 前面是实体的字段名字，这个映射还要仔细问问 -->
    <resultMap type="com.boot.demo.entity.WeatherPreditcEntity" id="WeatherPreditcMap">

        <result property="weather" column="weather"/>
        <result property="highesttemperature" column="highest_temperature"/>
        <result property="lowesttemperature" column="lowest_temperature"/>
        <result property="day" column="w_day"/>
        <result property="date" column="date"/>
        <result property="week" column="week"/>
    </resultMap>


    <select id="getWeatherOne" resultMap="WeatherPreditcMap">
        select date, highest_temperature,lowest_temperature,weather,concat('星期',dayofweek(date)) as week
        from weather where date=DATE_SUB(curdate(),INTERVAL -1 DAY)

    </select>
    <select id="getWeatherTwo" resultMap="WeatherPreditcMap">
        select date, highest_temperature,lowest_temperature,weather,concat('星期',dayofweek(date)) as week
        from weather where date=DATE_SUB(curdate(),INTERVAL -2 DAY)
    </select>
    <select id="getWeatherThree" resultMap="WeatherPreditcMap">
        select date, highest_temperature,lowest_temperature,weather,concat('星期',dayofweek(date)) as week
        from weather where date=DATE_SUB(curdate(),INTERVAL -3 DAY)
    </select>

</mapper>