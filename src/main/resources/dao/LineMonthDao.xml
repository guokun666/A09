<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.demo.dao.LineMonthDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.boot.demo.entity.LineMonthEntity" id="LinemonthMap">
<result property="year" column="a_year"/>
     <result property="date" column="a_date"/>
        <result property="month" column="a_month"/>
        <result property="flow" column="flow"/>
        <result property="singleline" column="line"/>
        <result property="date" column="a_date"/>
    </resultMap>


    <select id="getBYAyl" resultMap="LinemonthMap">
        SELECT a_month,flow FROM a_1 WHERE a_year = #{year} and line= #{singleline}
    </select>

    <select id="getByMonth" resultMap="LinemonthMap">
        SELECT a_date,flow FROM a_2 WHERE a_year = #{year} and line= #{singleline} and a_month= #{month}
    </select>
    <select id="getCitymonth" resultMap="LinemonthMap">
        SELECT a_month,sum(flow) as flow,line FROM a_1 WHERE a_year = #{year} group by a_month,line

    </select>
    <select id="getCityline" resultMap="LinemonthMap">
        SELECT line ,sum(flow) as flow FROM a_1 WHERE a_year = #{year} and a_month = #{month} group by line
    </select>
    <select id="getCitydate" resultMap="LinemonthMap">
        SELECT line,flow,a_date FROM a_2 WHERE a_year = #{year} and a_month = #{month}
    </select>
</mapper>