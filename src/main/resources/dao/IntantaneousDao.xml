<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.demo.dao.InstantaneousDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.boot.demo.entity.InstantaneousEntity" id="InstantaneousMap">
        <result property="time" column="time_slot"/>
        <result property="station" column="station_name"/>

        <result property="flow_in" column="flow_in"/>
        <result property="flow_out" column="flow_out"/>


    </resultMap>


    <select id="getDayFlowByDayAndStation" resultMap="InstantaneousMap">
        SELECT CONCAT(HOUR(time_slot),':',MINUTE(time_slot)) AS time_slot,flow_in, flow_out FROM i_day
        WHERE
        DATE(i_day.time_slot) = DATE(#{time}) AND
        i_day.station_name=#{station}
    </select>

    <select id="getYearFlowByYearAndStation" resultMap="InstantaneousMap">
        SELECT CONCAT(HOUR(time_slot),':',MINUTE(time_slot)) AS time_slot,flow_in, flow_out FROM i_year
        WHERE
        i_year.station_name=#{station}
    </select>


</mapper>